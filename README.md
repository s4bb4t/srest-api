Вот обновленная документация с измененным расположением и более подробным описанием эндпоинтов, а также измененным форматированием для параметров запроса.

---

# sAPI

## Описание

RESTful API сервис для EasyDev. Предоставляет функции управления пользователями и задачами.

## Контакты

- **Имя**: s4bb4t
- **Email**: s4bb4t@yandex.ru

## Лицензия

- **Название**: Apache 2.0
- **Ссылка**: [Apache 2.0 License](http://www.apache.org/licenses/LICENSE-2.0.html)

## Хост

- **URL**: [http://51.250.113.72:8082](http://51.250.113.72:8082)

## Базовый путь

- **BasePath**: `/api/v1`

## Безопасность

### BearerAuth

- **Описание**: Требуется JWT Bearer токен для доступа к защищенным маршрутам. Формат: `Bearer <token>`

## Схемы

- **http**

## User API

### Swagger

- **Путь**: `/swagger/*`
- **Метод**: GET
- **Описание**: Эндпоинт для документации Swagger.

### Регистрация пользователя

- **Путь**: `/auth/signup`
- **Метод**: POST
- **Описание**: Регистрирует нового пользователя.
- **Параметры**:
  - **User** (тело запроса): Полные данные пользователя для регистрации.
    ```json
    {
      "login": "string",
      "username": "string",
      "password": "string",
      "email": "string",
      "phoneNumber": "string"
    }
    ```
- **Ответы**:
  - **201 Created**: Успешная регистрация. Возвращает данные пользователя.
  - **400 Bad Request**: Ошибка десериализации запроса или неверный ввод.
  - **409 Conflict**: Пользователь уже существует.
  - **500 Internal Server Error**: Внутренняя ошибка сервера.

### Аутентификация пользователя

- **Путь**: `/auth/signin`
- **Метод**: POST
- **Описание**: Аутентифицирует пользователя и возвращает JWT токен.
- **Параметры**:
  - **AuthData** (тело запроса): Данные для аутентификации.
    ```json
    {
      "login": "string",
      "password": "string"
    }
    ```
- **Ответы**:
  - **200 OK**: Успешная аутентификация. Возвращает JWT токены.
  - **400 Bad Request**: Ошибка десериализации запроса или неверный ввод.
  - **401 Unauthorized**: Неверные учетные данные.
  - **500 Internal Server Error**: Внутренняя ошибка сервера.

### Обновление токена

- **Путь**: `/auth/refresh`
- **Метод**: POST
- **Описание**: Обновляет токен доступа на основе предоставленного refresh токена.
- **Параметры**:
  - **RefreshToken** (тело запроса): Refresh токен пользователя.
    ```json
    {
      "refreshToken": "string"
    }
    ```
- **Ответы**:
  - **200 OK**: Успешное обновление токена. Возвращает новые JWT токены.
  - **400 Bad Request**: Ошибка десериализации запроса.
  - **401 Unauthorized**: Неверные учетные данные или токен истек.
  - **500 Internal Server Error**: Внутренняя ошибка сервера.

### Получение профиля пользователя

- **Путь**: `/user/profile`
- **Метод**: GET
- **Описание**: Возвращает профиль текущего аутентифицированного пользователя.
- **Ответы**:
  - **200 OK**: Возвращает данные профиля пользователя.
  - **400 Bad Request**: Пользователь не найден.
  - **500 Internal Server Error**: Внутренняя ошибка сервера.

### Обновление профиля пользователя

- **Путь**: `/user/profile`
- **Метод**: PUT
- **Описание**: Обновляет профиль пользователя с новыми данными.
- **Параметры**:
  - **PutUser** (тело запроса): Обновленные данные пользователя.
    ```json
    {
      "login": "string",
      "username": "string",
      "email": "string",
      "phoneNumber": "string"
    }
    ```
- **Ответы**:
  - **200 OK**: Профиль успешно обновлен.
  - **400 Bad Request**: Ошибка десериализации запроса или логин/электронная почта уже используются.
  - **404 Not Found**: Пользователь не найден.
  - **500 Internal Server Error**: Внутренняя ошибка сервера.

### Изменение пароля

- **Путь**: `/user/profile/reset-password`
- **Метод**: PUT
- **Описание**: Обновляет пароль пользователя.
- **Параметры**:
  - **Pwd** (тело запроса): Новый пароль.
    ```json
    {
      "password": "string"
    }
    ```
- **Ответы**:
  - **200 OK**: Пароль успешно изменен.
  - **400 Bad Request**: Ошибка десериализации запроса.
  - **404 Not Found**: Пользователь не найден.
  - **500 Internal Server Error**: Внутренняя ошибка сервера.

## Admin API

### Получение всех пользователей

- **Путь**: `/admin/users`
- **Метод**: GET
- **Описание**: Получает список пользователей с возможностью фильтрации и сортировки.
- **Параметры запроса**:
  - **search** (строка, необязательно): Фильтр по ключевому слову в имени или электронной почте.
  - **sortBy** (строка, необязательно): Поле для сортировки (например, "username", "email").
  - **sortOrder** (строка, необязательно): Направление сортировки ("asc" или "desc").
  - **isBlocked** (логическое, необязательно): Фильтрация по статусу блокировки.
  - **limit** (целое число, необязательно): Количество элементов на странице (по умолчанию 20).
  - **offset** (целое число, необязательно): Смещение для пагинации (по умолчанию 0).
- **Ответы**:
  - **200 OK**: Возвращает список пользователей с метаинформацией.
    ```json
    {
      "data": [
        {
          "id": 1,
          "username": "string",
          "email": "string",
          "date": "string",
          "isBlocked": false,
          "isAdmin": false,
          "phoneNumber": "string"
        }
      ],
      "meta": {
        "totalAmount": 100,
        "sortBy": "string",
        "sortOrder": "string"
      }
    }
    ```
  - **401 Unauthorized**: Не найден контекст пользователя.
  - **403 Forbidden**: Недостаточно прав.
  - **500 Internal Server Error**: Внутренняя ошибка сервера.

### Получение профиля пользователя

- **Путь**: `/admin/users/{id}`
- **Метод**: GET
- **Описание**: Получить профиль пользователя по ID.
- **Параметры**:
  - **id** (путь): ID пользователя.
- **Ответы**:
  - **200 OK**: Возвращает информацию о пользователе.
    ```json
    {
      "id": 1,
      "username": "string",
      "email": "string",
      "date": "string",
      "isBlocked": false,
      "isAdmin": false,
      "phoneNumber": "string"
    }
    ```
  - **400 Bad Request**: Неверный или отсутствующий ID.
  - **401 Unauthorized**: Не найден контекст пользователя.
  - **403 Forbidden**: Недостаточно прав.
  - **404 Not Found**: Пользователь не найден.
  - **500 Internal Server Error**: Внутренняя ошибка сервера.

### Обновление данных пользователя

- **Путь**: `/admin/users/{id}`
- **Метод**: PUT
- **Описание**: Обновляет данные пользователя по ID.
- **Параметры**:
  - **id** (путь): ID пользователя.
  - **UserData** (тело запроса): Обновленные данные пользователя.
    ```json
    {
      "login": "string",
      "username": "string",
      "email":

 "string",
      "phoneNumber": "string"
    }
    ```
- **Ответы**:
  - **200 OK**: Данные пользователя успешно обновлены.
  - **400 Bad Request**: Ошибка десериализации запроса или неверный ID.
  - **401 Unauthorized**: Не найден контекст пользователя.
  - **403 Forbidden**: Недостаточно прав.
  - **404 Not Found**: Пользователь не найден.
  - **500 Internal Server Error**: Внутренняя ошибка сервера.

### Блокировка/разблокировка пользователя

- **Путь**: `/admin/users/{id}/block`
- **Метод**: PATCH
- **Описание**: Блокировка или разблокировка пользователя по ID.
- **Параметры**:
  - **id** (путь): ID пользователя.
  - **BlockStatus** (тело запроса): Статус блокировки.
    ```json
    {
      "isBlocked": true
    }
    ```
- **Ответы**:
  - **200 OK**: Успешная блокировка/разблокировка пользователя.
  - **400 Bad Request**: Неверный JSON или отсутствующий ID.
  - **401 Unauthorized**: Не найден контекст пользователя.
  - **403 Forbidden**: Недостаточно прав.
  - **404 Not Found**: Пользователь не найден.
  - **500 Internal Server Error**: Внутренняя ошибка сервера.

### Удаление пользователя

- **Путь**: `/admin/users/{id}`
- **Метод**: DELETE
- **Описание**: Удаляет пользователя по ID.
- **Параметры**:
  - **id** (путь): ID пользователя.
- **Ответы**:
  - **204 No Content**: Пользователь успешно удален.
  - **400 Bad Request**: Неверный или отсутствующий ID.
  - **401 Unauthorized**: Не найден контекст пользователя.
  - **403 Forbidden**: Недостаточно прав.
  - **404 Not Found**: Пользователь не найден.
  - **500 Internal Server Error**: Внутренняя ошибка сервера.

---

Вот обновленная версия документации для управления задачами (Todo) с более детальным описанием и измененным форматированием параметров запроса:

---

## Управление задачами (Todo)

Эндпоинты для создания, получения, обновления и удаления задач.

### Создание задачи

- **Путь**: `/todos`
- **Метод**: POST
- **Описание**: Создает новую задачу с указанными данными.
- **Параметры запроса**:
  - **UserData** (тело запроса, обязательный): Полные данные задачи для создания.
    ```json
    {
      "title": "string",
      "isDone": true
    }
    ```
- **Ответы**:
  - **200 OK**: Успешное создание задачи. Возвращает данные задачи.
    ```json
    {
      "id": 1,
      "title": "string",
      "created": "string",
      "isDone": false
    }
    ```
  - **400 Bad Request**: Ошибка десериализации запроса или недопустимое значение поля `isDone`.
  - **500 Internal Server Error**: Внутренняя ошибка сервера.

### Получение всех задач

- **Путь**: `/todos`
- **Метод**: GET
- **Описание**: Получает список всех задач с возможностью фильтрации.
- **Параметры запроса**:
  - **filter** (строка, необязательно): Фильтр по состоянию задачи (например, "all", "completed", "inWork").
  - **limit** (целое число, необязательно): Количество задач на странице (по умолчанию 20).
  - **offset** (целое число, необязательно): Смещение для пагинации (по умолчанию 0).
- **Ответы**:
  - **200 OK**: Успешное получение списка задач. Возвращает список задач с метаинформацией.
    ```json
    {
      "data": [
        {
          "id": 1,
          "title": "string",
          "created": "string",
          "isDone": false
        }
      ],
      "info": {
        "all": 10,
        "completed": 5,
        "inWork": 5
      },
      "meta": {
        "totalAmount": 20
      }
    }
    ```
  - **500 Internal Server Error**: Внутренняя ошибка сервера.

### Получение задачи по ID

- **Путь**: `/todos/{id}`
- **Метод**: GET
- **Описание**: Получает задачу по указанному ID.
- **Параметры запроса**:
  - **id** (путь): ID задачи.
- **Ответы**:
  - **200 OK**: Успешное получение задачи. Возвращает данные задачи.
    ```json
    {
      "id": 1,
      "title": "string",
      "created": "string",
      "isDone": false
    }
    ```
  - **400 Bad Request**: Неверный или отсутствующий ID.
  - **404 Not Found**: Задача не найдена.
  - **500 Internal Server Error**: Внутренняя ошибка сервера.

### Обновление задачи

- **Путь**: `/todos/{id}`
- **Метод**: PUT
- **Описание**: Обновляет задачу по указанному ID.
- **Параметры запроса**:
  - **id** (путь): ID задачи.
  - **UserData** (тело запроса, обязательный): Обновленные данные задачи.
    ```json
    {
      "title": "string",
      "isDone": true
    }
    ```
- **Ответы**:
  - **200 OK**: Успешное обновление задачи. Возвращает обновленные данные задачи.
    ```json
    {
      "id": 1,
      "title": "string",
      "created": "string",
      "isDone": true
    }
    ```
  - **400 Bad Request**: Ошибка десериализации запроса, неверный ID или недопустимое значение поля `isDone`.
  - **404 Not Found**: Задача не найдена.
  - **500 Internal Server Error**: Внутренняя ошибка сервера.

### Удаление задачи

- **Путь**: `/todos/{id}`
- **Метод**: DELETE
- **Описание**: Удаляет задачу по указанному ID.
- **Параметры запроса**:
  - **id** (путь): ID задачи.
- **Ответы**:
  - **200 OK**: Задача успешно удалена.
  - **400 Bad Request**: Неверный или отсутствующий ID.
  - **404 Not Found**: Задача не найдена.
  - **500 Internal Server Error**: Внутренняя ошибка сервера.

---

Если нужно внести дополнительные изменения или есть другие запросы, дайте знать!